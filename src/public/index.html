<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WhatsApp Webhook Server</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      color: #333;
    }
    h1 {
      color: #075e54;
      border-bottom: 2px solid #25d366;
      padding-bottom: 10px;
    }
    h2 {
      color: #128c7e;
    }
    pre {
      background-color: #f5f5f5;
      padding: 15px;
      border-radius: 5px;
      overflow-x: auto;
    }
    code {
      font-family: monospace;
      background-color: #f5f5f5;
      padding: 2px 4px;
      border-radius: 3px;
    }
    .container {
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 20px;
      margin-top: 20px;
    }
    .endpoint {
      margin-bottom: 20px;
    }
    .endpoint h3 {
      margin-bottom: 5px;
      color: #128c7e;
    }
    .endpoint p {
      margin-top: 5px;
    }
    .footer {
      margin-top: 30px;
      text-align: center;
      font-size: 0.9em;
      color: #777;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>WhatsApp Webhook Server</h1>
    <p>This server is configured to receive webhook events from the WhatsApp Cloud API.</p>
    
    <h2>Available Endpoints</h2>
    
    <div class="endpoint">
      <h3>Webhook Verification</h3>
      <p><code>GET /api/webhook</code></p>
      <p>Used by WhatsApp to verify your webhook during setup.</p>
    </div>
    
    <div class="endpoint">
      <h3>Webhook Events</h3>
      <p><code>POST /api/webhook</code></p>
      <p>Receives events from WhatsApp such as incoming messages and status updates.</p>
    </div>
    
    <div class="endpoint">
      <h3>Health Check</h3>
      <p><code>GET /api/health</code></p>
      <p>Returns the current status of the server.</p>
    </div>
    
    <h2>Setup Instructions</h2>
    <p>To set up your WhatsApp webhook:</p>
    <ol>
      <li>Go to the <a href="https://developers.facebook.com/" target="_blank">Meta Developer Portal</a></li>
      <li>Create a new app or use an existing one</li>
      <li>Add the WhatsApp product to your app</li>
      <li>In the WhatsApp settings, set up the webhook:
        <ul>
          <li>Callback URL: <code>https://your-domain.com/api/webhook</code></li>
          <li>Verify Token: The token you set in your environment variables</li>
          <li>Subscribe to the events you want to receive</li>
        </ul>
      </li>
    </ol>
    
    <h2>Testing the Webhook</h2>
    <p>You can test the webhook by sending a GET request to <code>/api/webhook</code> with the following query parameters:</p>
    <pre>hub.mode=subscribe&hub.verify_token=your_verify_token&hub.challenge=challenge_string</pre>
    
    <p>If your verify token matches, the server will respond with the challenge string.</p>
  </div>
  
  <div class="footer">
    <p>WhatsApp Webhook Server &copy; 2023</p>
  </div>
</body>
</html> 